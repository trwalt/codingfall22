<!DOCTYPE html> 
<html> 
<style>
body{
background-color: black;
}
#Video1 {
  width: 100vw; height: 100vh;
  object-fit: cover; position: fixed;
  left: 0; right: 0; top: 0; bottom: 0;
  z-index: 0; opacity: .5;
  mix-blend-mode: plus-lighter;
}      
#Video2 {
  width: 100vw; height: 100vh;
  object-fit: cover; position: fixed;
  left: 0; right: 0; top: 0; bottom: 0;
  z-index: -1; opacity: .5;
  mix-blend-mode: plus-lighter;
}      
#Video3 {
  width: 100vw; height: 100vh;
  object-fit: cover; position: fixed;
  left: 0; right: 0; top: 0; bottom: 0;
  z-index: -2; opacity: .5;
  mix-blend-mode: plus-lighter;
}      
  
#audbutton{
  opacity: .5;
  width: 10%;
  position: fixed;
  right: 0;
  bottom: 0;
  z-index: 2;
}

#audbutton:hover {
  opacity: 1;
  background-color: transparent;
  text-decoration: none;
}

</style>
<body>

<video id="Video1" autoplay muted> 
  <source src="https://trwalt.github.io/codingfall22/images/tastevideo1.mp4" type="video/mp4"> type="video/mp4">
  Your browser does not support HTML5 video.
</video>

<video id="Video2" autoplay muted>
  <source src="https://trwalt.github.io/codingfall22/images/tastevideo1.mp4" type="video/mp4">
  Your browser does not support HTML5 video.
</video>
  
<video id="Video3" autoplay muted>
  <source src="https://trwalt.github.io/codingfall22/images/tastevideo1.mp4" type="video/mp4">
  Your browser does not support HTML5 video.
</video>

<audio id="Audio1" type="audio/mp3" muted>
</audio>

<audio id="Audio2" type="audio/mp3" muted>
</audio>

<audio id="Audio3" type="audio/mp3" muted>
</audio>

<audio id="Audio4" type="audio/mp3" muted>
</audio>

<audio id="Audio5" type="audio/mp3" muted>
</audio>

<audio id="Audio6" type="audio/mp3" muted>
</audio>


<audio id="AudioPulse" type="audio/mp3" autoplay muted>
<source src="https://trwalt.github.io/codingfall22/tastesound/tastetones.mp3" type="audio/mp3">
</audio>

<div>
  <img id="audbutton" src="https://trwalt.github.io/codingfall22/images/audiomuted.png" />
</div>

</body> 

<script>
var vid1 = document.getElementById("Video1"); 
var vid2 = document.getElementById("Video2");
var vid3 = document.getElementById("Video3");

function ControlVid1() { 
let delay1 = (Math.floor(Math.random() * 20000)+1000);
vid1.playbackRate = Math.random()*2-.8;
setTimeout(function resetPlaySpeed1(){ 
ControlVid1() ;
}, delay1);
}

function ControlVid2() { 
let delay2 = (Math.floor(Math.random() * 20000)+1000);
vid2.playbackRate = Math.random()*2-.8;
setTimeout(function resetPlaySpeed2(){ 
ControlVid2() ;
}, delay2);
}

function ControlVid3() { 
let delay3 = (Math.floor(Math.random() * 20000)+1000);
vid2.playbackRate = Math.random()*2-.8;
setTimeout(function resetPlaySpeed3(){ 
ControlVid3() ;
}, delay3);
}
  
function AddOnloadEvent(f) {
if(typeof window.onload != 'function') { window.onload = f; }
else {
   var cache = window.onload;
   window.onload = function() {
      if(cache) { cache(); }
      f();
      };
   }
}

AddOnloadEvent(ControlVid1);
AddOnloadEvent(ControlVid2);
AddOnloadEvent(ControlVid3);

vid1.onpause = function() {restartVideo1()};
vid2.onpause = function() {restartVideo2()};
vid3.onpause = function() {restartVideo3()};

function restartVideo1(){
vid1.currentTime = 0; 
vid1.play(); 
}

function restartVideo2(){
 vid2.currentTime = 0; 
 vid2.play(); 
}

function restartVideo3(){
 vid3.currentTime = 0; 
 vid3.play(); 
}
  
var sounds = new Array();      
  sounds[0]="https://trwalt.github.io/codingfall22/tastesound/tasteS1.mp3";  
  sounds[1]="https://trwalt.github.io/codingfall22/tastesound/tasteS2.mp3";    
  sounds[2]="https://trwalt.github.io/codingfall22/tastesound/tasteS3.mp3"; 
  sounds[3]="https://trwalt.github.io/codingfall22/tastesound/tasteS4.mp3"; 
  sounds[4]="https://trwalt.github.io/codingfall22/tastesound/tasteS5.mp3"; 
  sounds[5]="https://trwalt.github.io/codingfall22/tastesound/tasteS6.mp3";
  sounds[6]="https://trwalt.github.io/codingfall22/tastesound/tasteS7.mp3";
  sounds[7]="https://trwalt.github.io/codingfall22/tastesound/tasteS8.mp3"; 
  sounds[8]="https://trwalt.github.io/codingfall22/tastesound/tasteS9.mp3";

var Lsounds = new Array();      
  Lsounds[0]="https://trwalt.github.io/codingfall22/tastesound/tasteL1.mp3";  
  Lsounds[1]="https://trwalt.github.io/codingfall22/tastesound/tasteL2.mp3";    
  Lsounds[2]="https://trwalt.github.io/codingfall22/tastesound/tasteL3.mp3"; 
  Lsounds[3]="https://trwalt.github.io/codingfall22/tastesound/tasteL4.mp3"; 
  Lsounds[4]="https://trwalt.github.io/codingfall22/tastesound/tasteL5.mp3"; 
  Lsounds[5]="https://trwalt.github.io/codingfall22/tastesound/tasteL6.mp3";
  Lsounds[6]="https://trwalt.github.io/codingfall22/tastesound/tasteL7.mp3";
  Lsounds[7]="https://trwalt.github.io/codingfall22/tastesound/tasteL8.mp3"; 
  Lsounds[8]="https://trwalt.github.io/codingfall22/tastesound/tasteL9.mp3";

var silence = new Array();      
  silence[0]="https://trwalt.github.io/codingfall22/usound/silence8.mp3";  
  silence[1]="https://trwalt.github.io/codingfall22/usound/silence15.mp3";    

  
var aud1 = document.getElementById("Audio1"); 
var aud2 = document.getElementById("Audio2");
var aud3 = document.getElementById("Audio3"); 
var aud4 = document.getElementById("Audio4");
var aud5 = document.getElementById("Audio5"); 
var aud6 = document.getElementById("Audio6");
var audpulse = document.getElementById("AudioPulse");

function getRandomSounds1() {
 var randomNum1 = Math.floor(Math.random()*sounds.length);
 aud1.src=sounds[randomNum1];
 }

function getRandomSounds2() {
 var randomNum2 = Math.floor(Math.random()*silence.length);
 aud2.src=silence[randomNum2];
 }

function getRandomSounds3() {
 var randomNum3 = Math.floor(Math.random()*silence.length);
 aud3.src=silence[randomNum3];
 }

function getRandomSounds4() {
 var randomNum4 = Math.floor(Math.random()*sounds.length);
 aud4.src=sounds[randomNum4];
 }

function getRandomSounds5() {
 var randomNum5 = Math.floor(Math.random()*Lsounds.length);
 aud5.src=Lsounds[randomNum5];
 }

function getRandomSounds6() {
 var randomNum6 = Math.floor(Math.random()*silence.length);
 aud6.src=silence[randomNum6];
 }


function restartAudio1(){
 getRandomSounds1();
 aud1.load();
 aud1.play(); 
 }
 
function restartAudio2(){
 getRandomSounds2();
 aud2.load();
 aud2.play(); 
 }

function restartAudio3(){
 getRandomSounds3();
 aud3.load();
 aud3.play(); 
 }

function restartAudio4(){
 getRandomSounds4();
 aud4.load();
 aud4.play(); 
 }

function restartAudio5(){
 getRandomSounds5();
 aud5.load();
 aud5.play(); 
 }

function restartAudio6(){
 getRandomSounds6();
 aud6.load();
 aud6.play(); 
 }


aud1.addEventListener("timeupdate", switchaudio2);
aud2.addEventListener("timeupdate", switchaudio1);
aud3.addEventListener("timeupdate", switchaudio4);
aud4.addEventListener("timeupdate", switchaudio3);
aud5.addEventListener("timeupdate", switchaudio6);
aud6.addEventListener("timeupdate", switchaudio5);


function switchaudio2(){
if (aud1.currentTime >= (aud1.duration*.9)){       
aud1.removeEventListener("timeupdate", switchaudio2);
restartAudio2();
aud2.addEventListener("timeupdate", switchaudio1);
}}

function switchaudio1(){
if (aud2.currentTime >= (aud2.duration*.9)){       
aud2.removeEventListener("timeupdate", switchaudio1);
restartAudio1();
aud1.addEventListener("timeupdate", switchaudio2);
}}

function switchaudio4(){
if (aud3.currentTime >= (aud3.duration*.9)){       
aud3.removeEventListener("timeupdate", switchaudio4);
restartAudio4();
aud4.addEventListener("timeupdate", switchaudio3);
}}

function switchaudio3(){
if (aud4.currentTime >= (aud4.duration*.9)){       
aud4.removeEventListener("timeupdate", switchaudio3);
restartAudio3();
aud3.addEventListener("timeupdate", switchaudio4);
}}

function switchaudio6(){
if (aud5.currentTime >= (aud5.duration*.9)){       
aud5.removeEventListener("timeupdate", switchaudio6);
restartAudio6();
aud6.addEventListener("timeupdate", switchaudio5);
}}

function switchaudio5(){
if (aud6.currentTime >= (aud6.duration*.9)){       
aud6.removeEventListener("timeupdate", switchaudio5);
restartAudio5();
aud5.addEventListener("timeupdate", switchaudio6);
}}

AddOnloadEvent(restartAudio1);
AddOnloadEvent(restartAudio3);
AddOnloadEvent(restartAudio5);


aud1.volume = .2;
aud2.volume = .2;
aud3.volume = .2;
aud4.volume = .2;

var audbutton = document.getElementById("audbutton"); 

audbutton.addEventListener("click", aud_mute_unmute);
audbutton.addEventListener("mouseover", mouseOver);
audbutton.addEventListener("mouseout", mouseOut);

var btnopover;
var btnopout;

function aud_mute_unmute() {
  if (aud1.muted) {
    aud1.muted = false; 
    aud2.muted = false;  
    aud3.muted = false; 
    aud4.muted = false;  
    aud5.muted = false; 
    aud6.muted = false;  
    audpulse.muted = false;
    audbutton.src = "https://trwalt.github.io/codingfall22/images/audiounmuted.png";
    btnopover = ".5";
    btnopout = "0";
  } else {
    aud1.muted = true; 
    aud2.muted = true;
    aud3.muted = true; 
    aud4.muted = true;  
    aud5.muted = true; 
    aud6.muted = true;  
    audpulse.muted = true;
    audbutton.src = "https://trwalt.github.io/codingfall22/images/audiomuted.png";
    btnopover = "1";
    btnopout = ".5";
  }
}

function mouseOver() {
  audbutton.style.opacity = btnopover;
}

function mouseOut() {
  audbutton.style.opacity = btnopout;
}

</script> 
</html>

